<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Termin editieren</title>
<link rel="stylesheet" media="screen" href="Resources/structure.css"></link>
<script type="text/JavaScript" src="Resources/analog_clock.js"></script>
<script type="text/JavaScript" src="Resources/DateChooser.js"></script>
<script type="text/JavaScript" src="Resources/SmallCalendar.js"></script>
<script type="text/javascript" src="Resources/edit.js"></script>
<script type="text/javascript">
var datevalues = new Array("Year","Month","Day","Hour","Minute","Second");
var dates = new Array("dtstamp","created","lastmod","exdate");

	backupEdit = window.onload;
	
	window.onload = function () {
		backupEdit();
		for (j = 0; j < dates.length; j++){
			insertFields(dates[j]);
		}
	}

	function setFormData() {
		for (i = 0; i < dates.length; i++){
			setDateFor(dates[i]);
		}
		
		// 		for (i = 0; i < form.elements.length; ++i)
		// 			if (form.elements[i].value == "") {
		// 				alert("Es wurden nicht alle Felder ausgefuellt!");
		// 				form.elements[i].focus();
		// 				return false;
		// 			}
		return true;
	}
	
	function setDateFor(name) {
		var date = new Date();
		var form = document.getElementById("editform");
		form.elements[name + "Year"].value = date.getFullYear();
		form.elements[name + "Month"].value = date.getMonth();
		form.elements[name + "Day"].value = date.getDate();
		form.elements[name + "Hour"].value = date.getHours();
		form.elements[name + "Minute"].value = date.getMinutes();
		form.elements[name + "Second"].value = date.getSeconds();
	}
	
	function insertFields (datename) {
		var father = document.getElementById("hiddenfields");
		for (i = 0; i < datevalues.length; i++){
			father.appendChild(getFieldElement(datename + datevalues[i]));
		}
	}
	
	function getFieldElement(name) {
		var ele = document.createElement("input");
		ele.setAttribute("type","hidden");
		ele.setAttribute("name",name);
		ele.setAttribute("value","0");
		return ele;
	}
</script>
</head>
<body>
	<div id="main">
		<div id="logo">
			<img src="Resources/Images/yac_logo.png" width="100px" height="100px"
				alt="logo" />
		</div>
		<div id="info">
			<form action="userservlet?action=logout" method="post">
				<div>
					<input type="submit" id="logout" value="Logout"></input>
				</div>
			</form>
			<ul id="cl_clock">
				<li id="cl_sec"></li>
				<li id="cl_hour"></li>
				<li id="cl_min"></li>
			</ul>
			<table id="smallcalendar">
				<tr>
					<td>Mo</td>
					<td>Di</td>
					<td>Mi</td>
					<td>Do</td>
					<td>Fr</td>
					<td>Sa</td>
					<td>So</td>
				</tr>
			</table>
		</div>
		<div id="title">
			<div id="titleimage"></div>
		</div>
		<div id="menubar"></div>
		<div id="calendar">
			<div id="edit">
				<h1>Termin bearbeiten</h1>

				<form id="editform" method="post" action="terminservlet"
					onsubmit="return setFormData();">
					<fieldset id="hiddenfields">
						<input type="hidden" name="action" value="update"></input> <input
							type="hidden" name="id" value="0"></input>
					</fieldset>
					<fieldset>
						<label for="summary">Betreff: </label> <input type="text"
							size="30" id="summary" value=""></input>
					</fieldset>
					<fieldset>
						<label for="jday">Startdatum: </label>
						<div id="jday">
							<select id="day" name="dtstartDay" size="1">
								<option>1</option>
							</select> <select id="month" name="dtstartMonth" size="1"
								onchange="update();">
								<option>1</option>
								<option>2</option>
								<option>3</option>
								<option>4</option>
								<option>5</option>
								<option>6</option>
								<option>7</option>
								<option>8</option>
								<option>9</option>
								<option>10</option>
								<option>11</option>
								<option>12</option>
							</select> <select id="year" name="dtstartYear" size="1"
								onchange="update();">
								<option>1990</option>
								<option>1991</option>
								<option>1992</option>
								<option>1993</option>
								<option>1994</option>
								<option>1995</option>
								<option>1996</option>
								<option>1997</option>
								<option>1998</option>
								<option>1999</option>
								<option>2000</option>
								<option>2001</option>
								<option>2002</option>
								<option>2003</option>
								<option>2004</option>
								<option>2005</option>
								<option>2006</option>
								<option>2007</option>
								<option>2008</option>
								<option>2009</option>
								<option>2010</option>
								<option>2011</option>
								<option>2012</option>
								<option>2013</option>
								<option>2014</option>
								<option>2015</option>
								<option>2016</option>
								<option>2017</option>
								<option>2018</option>
								<option>2019</option>
							</select> <input id="week" name="dtstartWeek" type="hidden" value=""></input>
						</div>
					</fieldset>
					<fieldset>
						<label for="starttimehours">Startzeit: </label> <select
							id="starttimehours" name="dtstartHour" size="1">
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
							<option>6</option>
							<option>7</option>
							<option>8</option>
							<option>9</option>
							<option>10</option>
							<option>11</option>
							<option>12</option>
							<option>13</option>
							<option>14</option>
							<option>15</option>
							<option>16</option>
							<option>17</option>
							<option>18</option>
							<option>19</option>
							<option>20</option>
							<option>21</option>
							<option>22</option>
							<option>23</option>
							<option>24</option>
						</select> <select id="starttimeminutes" name="dtstartMinute" size="1">
							<option>00</option>
							<option>05</option>
							<option>10</option>
							<option>15</option>
							<option>20</option>
							<option>25</option>
							<option>30</option>
							<option>35</option>
							<option>40</option>
							<option>45</option>
							<option>50</option>
							<option>55</option>
						</select> <input name="dtstartSecond" type="hidden" value="0"></input>
					</fieldset>
					<fieldset>
						<label for="jday">Enddatum: </label>
						<div id="jday">
							<select id="day" name="dtendDay" size="1">
								<option>1</option>
							</select> <select id="month" name="dtendMonth" size="1"
								onchange="update();">
								<option>1</option>
								<option>2</option>
								<option>3</option>
								<option>4</option>
								<option>5</option>
								<option>6</option>
								<option>7</option>
								<option>8</option>
								<option>9</option>
								<option>10</option>
								<option>11</option>
								<option>12</option>
							</select> <select id="year" name="dtendYear" size="1" onchange="update();">
								<option>1990</option>
								<option>1991</option>
								<option>1992</option>
								<option>1993</option>
								<option>1994</option>
								<option>1995</option>
								<option>1996</option>
								<option>1997</option>
								<option>1998</option>
								<option>1999</option>
								<option>2000</option>
								<option>2001</option>
								<option>2002</option>
								<option>2003</option>
								<option>2004</option>
								<option>2005</option>
								<option>2006</option>
								<option>2007</option>
								<option>2008</option>
								<option>2009</option>
								<option>2010</option>
								<option>2011</option>
								<option>2012</option>
								<option>2013</option>
								<option>2014</option>
								<option>2015</option>
								<option>2016</option>
								<option>2017</option>
								<option>2018</option>
								<option>2019</option>
							</select> <input id="week" name="selectedweek" type="hidden" value=""></input>
						</div>
					</fieldset>
					<fieldset>
						<label for="endtimehours">Endzeit: </label> <select
							id="endtimehours" name="dtendHour" size="1">
							<option>1</option>
							<option>2</option>
							<option>3</option>
							<option>4</option>
							<option>5</option>
							<option>6</option>
							<option>7</option>
							<option>8</option>
							<option>9</option>
							<option>10</option>
							<option>11</option>
							<option>12</option>
							<option>13</option>
							<option>14</option>
							<option>15</option>
							<option>16</option>
							<option>17</option>
							<option>18</option>
							<option>19</option>
							<option>20</option>
							<option>21</option>
							<option>22</option>
							<option>23</option>
							<option>24</option>
						</select> <select id="endtimeminutes" name="dtendMinute" size="1">
							<option>00</option>
							<option>05</option>
							<option>10</option>
							<option>15</option>
							<option>20</option>
							<option>25</option>
							<option>30</option>
							<option>35</option>
							<option>40</option>
							<option>45</option>
							<option>50</option>
							<option>55</option>
						</select> <input name="dtendSecond" type="hidden" value="0"></input>
					</fieldset>
					<fieldset>
						<label for="place">Ort: </label> <input type="text" size="30"
							id="place" value=""></input>
					</fieldset>
					<fieldset>
						<label for="priority">Priorität: </label> <select id="priority"
							name="priority" size="1">
							<option value="low">Niedrig</option>
							<option value="normal" selected="selected">Normal</option>
							<option value="high">Hoch</option>
						</select>
					</fieldset>
					<fieldset>
						<label for="description">Beschreibung: </label>
						<textarea cols="30" rows="5" id="description"></textarea>
					</fieldset>
					<fieldset>
						<label for="categories">Kategorien: </label> <input type="text"
							size="30" id="categories" value=""></input>
					</fieldset>
					<fieldset>
						<label for="color">Farbe: </label> <select id="color" name="color"
							size="1">
							<option selected="selected">Braun</option>
							<option>Rot</option>
							<option>Blau</option>
							<option>Grün</option>
							<option>Gelb</option>
							<option>Grau</option>
						</select>
					</fieldset>
					<fieldset>
						<div id="editbutton">
							<input type="submit" value="Speichern"></input> <input
								type="button" value="Zur&uuml;ck" onclick="history.back();"></input>
							<input type="button" value="L&ouml;schen"
								onclick="history.back();"></input>
						</div>
					</fieldset>
				</form>
			</div>
		</div>
		<div id="footer">
			Impressum: &#160; Michael M&uuml;ller &#160; Tel: 10932048091284
			&#160; Email: <a href="mailto:ofsdfjo@swfonm.net">ofsdfjo@swfonm.net</a>
			&#160; Mehr: <a href="About.html">About</a>
		</div>
	</div>
</body>
</html>